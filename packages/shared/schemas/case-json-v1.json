{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://anotherdoctor.com/schemas/case-json-v1.json",
  "title": "CaseJSON v1",
  "description": "Machine-readable medical case representation for Another Doctor",
  "type": "object",
  "required": ["condition", "anatomy"],
  "properties": {
    "condition": {
      "type": "object",
      "required": ["text"],
      "properties": {
        "text": {
          "type": "string",
          "description": "Human-readable condition name"
        },
        "icd10": {
          "type": "string",
          "pattern": "^[A-Z][0-9]{2}(\\.[0-9]+)?$",
          "description": "ICD-10 code"
        },
        "snomed": {
          "type": "string",
          "pattern": "^[0-9]+$",
          "description": "SNOMED CT code"
        },
        "mesh": {
          "type": "string",
          "pattern": "^D[0-9]+$",
          "description": "MeSH term identifier"
        }
      }
    },
    "anatomy": {
      "type": "object",
      "required": ["site"],
      "properties": {
        "site": {
          "type": "string",
          "description": "Primary anatomical site"
        },
        "laterality": {
          "type": "string",
          "enum": ["left", "right", "bilateral", "unspecified"],
          "description": "Anatomical laterality"
        },
        "arterial_segments": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Affected arterial segments"
        }
      }
    },
    "prior_interventions": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["name"],
        "properties": {
          "name": {
            "type": "string",
            "description": "Intervention name"
          },
          "target": {
            "type": "string",
            "description": "Target anatomical structure"
          },
          "status": {
            "type": "string",
            "enum": ["completed", "failed", "partial", "ongoing"],
            "description": "Intervention outcome status"
          },
          "date_approx": {
            "type": "string",
            "description": "Approximate date (YYYY-MM format)"
          }
        }
      }
    },
    "comorbidities": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "List of comorbid conditions"
    },
    "goals": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Patient treatment goals"
    },
    "urgency": {
      "type": "string",
      "enum": ["low", "medium", "high"],
      "default": "medium",
      "description": "Case urgency level"
    },
    "keywords": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Search keywords for specialist matching"
    },
    "date_anchor": {
      "type": "string",
      "pattern": "^[0-9]{4}-[0-9]{2}$",
      "description": "Date anchor in YYYY-MM format"
    }
  }
}